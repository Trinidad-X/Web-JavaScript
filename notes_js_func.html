<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS Functions Interactive Notes</title>
    <style>
        :root {
            --win-gray: #c0c0c0;
            --win-dark: #808080;
            --win-light: #ffffff;
            --win-blue: #000080;
            --code-bg: #282c34;
            --code-text: #abb2bf;
        }
        body { background-color: #008080; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; height: 100vh; margin: 0; overflow: hidden; }
        
        .window {
            width: 95vw; height: 95vh;
            margin: 2.5vh auto;
            background: var(--win-gray);
            border: 2px solid;
            border-color: var(--win-light) var(--win-dark) var(--win-dark) var(--win-light);
            display: flex; flex-direction: column;
            box-shadow: 4px 4px 10px rgba(0,0,0,0.5);
        }
        .title-bar {
            background: linear-gradient(90deg, var(--win-blue), #1084d0);
            padding: 4px 8px;
            display: flex; justify-content: space-between; align-items: center;
            color: white; font-weight: bold; font-size: 14px;
        }
        .window-body {
            flex: 1; padding: 10px; overflow-y: auto;
            scrollbar-width: thin;
        }
        
        h2 { border-bottom: 2px solid var(--win-dark); color: #333; margin-top: 0;}
        details { margin-bottom: 10px; border: 1px dotted #888; padding: 5px; background: #e0e0e0; }
        summary { cursor: pointer; font-weight: bold; padding: 5px; }
        summary:hover { background: #d0d0d0; }
        pre { background: var(--code-bg); color: var(--code-text); padding: 10px; border-radius: 4px; overflow-x: auto; font-family: 'Consolas', monospace; }
        
        /* Interactive Tools */
        .interactive-box { background: #d4d4d4; border: 2px inset white; padding: 10px; margin-top: 10px; }
        .btn { cursor: pointer; background: var(--win-gray); border: 2px outset white; padding: 2px 10px; font-weight: bold; margin-top: 5px; }
        .btn:active { border-style: inset; }
        input { font-family: monospace; padding: 2px; }
        .output { background: black; color: lime; padding: 5px; font-family: monospace; margin-top: 5px; min-height: 20px; }
    </style>
</head>
<body>
<div class="window" id="mainWindow">
    <div class="title-bar">
        <div class="title-bar-text">JavaScript Functions</div>
        <div class="title-bar-controls">
            <button class="btn" onclick="closeWindow()" style="margin:0; width: 20px;">X</button>
        </div>
    </div>
    
    <div class="window-body">
        
        <details open>
            <summary><strong>01 Defining Functions</strong></summary>
            <p>Functions are reusable blocks of code.</p>
            
            <div style="display:flex; gap:10px; flex-wrap:wrap;">
                <div style="flex:1;">
                    <strong>Declaration:</strong>
                    <pre>function sayHi(name) {
  return "Hi " + name;
}</pre>
                    <p><em>Hoisted (can be called before definition).</em></p>
                </div>
                <div style="flex:1;">
                    <strong>Expression:</strong>
                    <pre>const sayHi = function(name) {
  return "Hi " + name;
};</pre>
                    <p><em>Not hoisted.</em></p>
                </div>
            </div>
        </details>

        <details>
            <summary><strong>02 Arrow Functions (ES6)</strong></summary>
            <p>A concise syntax for writing function expressions.</p>
            
            <div class="interactive-box">
                <strong>Arrow Converter:</strong>
                <p>Type a standard function logic below to see the arrow equivalent.</p>
                <div style="display:flex; align-items:center; gap:5px; margin-bottom:5px;">
                    <code>function(</code><input type="text" id="params" value="a, b" style="width:50px;"><code>) { return </code><input type="text" id="logic" value="a + b" style="width:100px;"><code>; }</code>
                </div>
                <button class="btn" onclick="convertArrow()">Convert</button>
                <div class="output" id="arrowOutput" style="background: white; color: blue;">const func = (a, b) => a + b;</div>
            </div>
            
            <p><strong>Notes:</strong></p>
            <ul>
                <li>Implicit return if no curly braces <code>{}</code> used.</li>
                <li>Does not have its own <code>this</code> context.</li>
            </ul>
        </details>

        <details>
            <summary><strong>03 Parameters & Defaults</strong></summary>
            <p>You can set default values for parameters to avoid <code>undefined</code> errors.</p>
            <pre>function greet(name = "Guest") {
  return `Hello ${name}`;
}
greet(); // "Hello Guest"</pre>
        </details>

        <details>
            <summary><strong>04 Scope Visualization</strong></summary>
            <p>Variables defined inside a function are <strong>Local</strong>. Variables outside are <strong>Global</strong>.</p>
            
            <div class="interactive-box">
                <button class="btn" onclick="runScopeDemo()">Run Scope Test</button>
                <div id="scopeConsole" class="output">> Waiting...</div>
            </div>
        </details>

    </div>
    <div class="window-footer">
        <button class="btn" onclick="closeWindow()">Close</button>
    </div>
</div>

<script>
    function closeWindow() {
        document.getElementById('mainWindow').style.display = 'none';
    }

    function convertArrow() {
        const params = document.getElementById('params').value;
        const logic = document.getElementById('logic').value;
        
        // Simple heuristic for visualization
        const result = `const myFunc = (${params}) => ${logic};`;
        document.getElementById('arrowOutput').innerText = result;
    }

    function runScopeDemo() {
        const consoleEl = document.getElementById('scopeConsole');
        consoleEl.innerHTML = "";
        
        let globalVar = "I am Global";
        
        function localScope() {
            let localVar = "I am Local";
            consoleEl.innerHTML += `<div>Inside Function: accessing global -> "${globalVar}"</div>`;
            consoleEl.innerHTML += `<div>Inside Function: accessing local -> "${localVar}"</div>`;
        }
        
        localScope();
        
        consoleEl.innerHTML += `<div>Outside: accessing global -> "${globalVar}"</div>`;
        try {
            consoleEl.innerHTML += `<div>Outside: accessing local -> "${localVar}"</div>`;
        } catch(e) {
            consoleEl.innerHTML += `<div style="color:red">Outside Error: localVar is not defined! (Correct)</div>`;
        }
    }
</script>
</body>
</html>