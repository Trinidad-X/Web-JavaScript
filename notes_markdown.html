<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdown Interactive Notes</title>
    <link rel="stylesheet" href="styles/notes.css">
    <style>
        /* EDITOR LAYOUT */
        .editor-wrapper {
            display: flex; gap: 10px; flex: 1; min-height: 300px;
        }
        .panel {
            flex: 1; display: flex; flex-direction: column;
        }
        textarea {
            flex: 1; resize: none; padding: 10px; font-family: 'Consolas', monospace;
            border: 2px inset white; background: white;
        }
        .preview {
            flex: 1; background: white; padding: 10px; border: 2px inset white; overflow-y: auto;
        }

        /* PREVIEW STYLES */
        .preview h1 { border-bottom: 1px solid #eee; }
        .preview code { background: #eee; padding: 2px; border-radius: 3px; font-family: monospace; }
        .preview blockquote { border-left: 4px solid #ccc; margin: 0; padding-left: 10px; color: #666; }
        
        table { border-collapse: collapse; width: 100%; background: white; }
        th, td { border: 1px solid #808080; padding: 4px; text-align: left; }
        th { background: #c0c0c0; }
    </style>
</head>
<body style="background-color: var(--desktop-bg);">
<div class="window" style="position: fixed; top: 20px; left: 20px; right: 20px; bottom: 20px; width: auto; height: auto; resize: none;">
    <div class="title-bar">
        <div class="title-bar-text">Markdown Editor & Guide</div>
        <div class="title-bar-controls">
            <button onclick="window.location.href='index.html'">X</button>
        </div>
    </div>
    
    <div class="window-body">
        <div class="content-area">
            <details>
                <summary><strong>01 Syntax Cheat Sheet</strong></summary>
                <table>
                    <tr style="background:#ccc;"><th>Element</th><th>Markdown</th></tr>
                    <tr><td>Heading 1</td><td><code># Title</code></td></tr>
                    <tr><td>Bold</td><td><code>**Bold Text**</code></td></tr>
                    <tr><td>Italic</td><td><code>*Italic Text*</code></td></tr>
                    <tr><td>Link</td><td><code>[Title](url)</code></td></tr>
                    <tr><td>List</td><td><code>- Item</code></td></tr>
                    <tr><td>Code</td><td><code>`code`</code></td></tr>
                    <tr><td>Quote</td><td><code>&gt; Quote</code></td></tr>
                </table>
            </details>

            <h3>Live Editor</h3>
            <p>Type Markdown on the left to see the result on the right.</p>
            
            <div class="editor-wrapper">
                <div class="panel">
                    <label><strong>Input (Markdown)</strong></label>
                    <textarea id="mdInput" oninput="renderMarkdown()">
# Hello World

This is a **bold** statement and this is *italic*.

- List item 1
- List item 2

> "Markdown is a lightweight markup language."

Check out [Google](https://google.com).

`console.log("Code block");`</textarea>
                </div>
                <div class="panel">
                    <label><strong>Preview (HTML)</strong></label>
                    <div class="preview" id="mdPreview"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    function renderMarkdown() {
        const text = document.getElementById('mdInput').value;
        let html = text
            .replace(/&/g, "&amp;")
            .replace(/</g, "&lt;")
            .replace(/>/g, "&gt;")
            .replace(/^# (.*$)/gim, '<h1>$1</h1>')
            .replace(/^## (.*$)/gim, '<h2>$1</h2>')
            .replace(/^### (.*$)/gim, '<h3>$1</h3>')
            .replace(/\*\*(.*)\*\*/gim, '<strong>$1</strong>')
            .replace(/\*(.*)\*/gim, '<em>$1</em>')
            .replace(/^> (.*$)/gim, '<blockquote>$1</blockquote>')
            .replace(/\[(.*?)\]\((.*?)\)/gim, "<a href='$2' target='_blank'>$1</a>")
            .replace(/`(.*?)`/gim, '<code>$1</code>')
            .replace(/^- (.*$)/gim, '<li>$1</li>')
            .replace(/\n/gim, '<br>');

        document.getElementById('mdPreview').innerHTML = html;
    }

    renderMarkdown();
</script>
</body>
</html>